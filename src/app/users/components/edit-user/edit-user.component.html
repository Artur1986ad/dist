<div class="container">
    <form class="card" [formGroup]="form" (ngSubmit)="submit()">
    <h3 class="card__logo">Изменение данных пользователя</h3>
    <div class="user-form">
      <div class="user-form__image">
        <img
          [src]="imagePreview"
          *ngIf="imagePreview"
          alt="user photo"
          class="user-form__photo"
        >
        <div>
          <input
            type="file"
            class="file-load"
            (change)="onFileUpload($event)"
            #input
            id="file"
            (change)="compress($event)"
            accept="image/*"
          >
          <button
            (click)="triggerClick()"
            type="button"
            class="btn"
          >
            Загрузить фото
          </button>
        </div>
      </div>
      <div class="user-form__info">
        <div class="form-control">
          <label class="form-control__text">Имя</label>
          <input class="form-control__input" type="text" placeholder="Ваше имя ...." formControlName="name">
          <div class="validation" *ngIf="form.controls['name'].invalid && form.controls['name'].touched">
            <div class="validation__small-text" *ngIf="form.controls['name'].errors.required">
              Поле имя не может быть пустым
            </div>
          </div>
        </div>

        <div class="form-control">
          <label class="form-control__text">Фамилия</label>
          <input class="form-control__input" type="text" placeholder="Фамилия..." formControlName="surname">
          <div class="validation" *ngIf="form.controls['surname'].invalid && form.controls['surname'].touched">
            <div class="validation__small-text" *ngIf="form.controls['surname'].errors.required">
              Поле фамилия не может быть пустым
            </div>
          </div>
        </div>

        <div class="form-control">
          <label class="form-control__text">Телефон</label>
          <input class="form-control__input" type="text" placeholder="Телефон..." formControlName="phone">
          <div class="validation" *ngIf="form.controls['phone'].invalid && form.controls['phone'].touched">
            <div class="validation__small-text" *ngIf="form.controls['phone'].errors.required">
              Поле телефон не может быть пустым
            </div>
            <div class="validation__small-text" *ngIf="form.controls['phone'].errors.pattern">
              Не коректний введены дание. Формат: (7(000)333-22-22)
            </div>
          </div>
        </div>
        <div class="form-control" formGroupName="position">
          <label class="form-control__text">Тип учетной записи</label>
          <select class="form-control__select" formControlName="type">
            <option value="Администратор">Администратор</option>
            <option value="Оператор">Оператор</option>
            <option value="Рабочий">Рабочий</option>
          </select>
        </div>
        <div class="card">
          <h2>Адрес</h2>
          <div class="form-control" formGroupName="address">
            <label class="form-control__text">Город</label>
            <select class="form-control__select" formControlName="country">
              <option value="mg">Могилев</option>
              <option value="mn">Минск</option>
              <option value="gm">Гомель</option>
              <option value="br">Брест</option>
              <option value="vt">Витебск</option>
              <option value="gк">Гродно</option>
            </select>
            <div class="form-control">
              <label class="form-control__text">Адрес</label>
              <input class="form-control__input" type="text" formControlName="street" placeholder="Адрес....">
            </div>
          </div>
        </div>
        <input id="userpic" type="hidden" formControlName="userpic">
        <button class="btn" [disabled]="form.invalid" type="submit">Сохранить</button>
      </div>
    </div>
  </form>
</div>

